<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Network Settings</title>
		<style>
form > div {
	margin: 16pt 0pt;
	width: 100%;
}
form > div > label {
	width: 16%;
	display: inline-block;
}
form > div > input {
	width: 76%;
	display: inline-block;
}
.nav {
	margin: 0 16px;
}
.radio {display: flex;}
.radio > div {flex-basis: 16%;}
.radio > input {flex-basis: 4%;}
.radio > label {flex-basis: 6%;}
		</style>
	</head>
	<body>
		<h1>Network Settings</h1>
		<form action="/post" method="POST">
			<div class="radio">
				<div>WiFi connection: </div>
				<input type="radio" id="wps" name="is_wps" value="1" onclick="clickWPS();">
				<label for="wps">WPS</label>
				<input type="radio" id="ssid" name="is_wps" value="0" onclick="clickSSID();">
				<label for="ssid">SSID</label><br>
			</div>
			<div class="ssid">
				<label for="ssid">WiFi SSID</label>
				<input id="ssid" type="text" name="ssid" placeholder="WiFi SSID" value="$SSID$" maxlength="32">
			</div>
			<div class="ssid">
				<label for="pass">WiFi Passphrase</label>	
				<input id="pass" type="text" name="pass" placeholder="WiFi Passphrase" maxlength="32" value="$PASS$"> 
			</div>
			<div>
				<label for="mqttaddr">MQTT Address</label>				
				<input id="mqttaddr" type="text" name="mqtt-addr" placeholder="MQTT Address" value="$MQTTADDR$" maxlength="64">
			</div>
			<div>
				<label for="mqttport">MQTT Port</label>				
				<input id="mqttport" type="number" name="mqtt-port" placeholder="MQTT Port" value="$MQTTPORT$" min="1" max="65535">
			</div>
			<div>
				<label for="mqttuser">MQTT User</label>		
				<input id="mqttuser" type="text" name="mqtt-user" placeholder="MQTT User" maxlength="32" value="$MQTTUSER$"> 
			</div>
			<div>
				<label for="mqttpass">MQTT Pass</label>					
				<input id="mqttpass" type="text" name="mqtt-pass" placeholder="MQTT Pass" maxlength="32" value="$MQTTPASS$"> 	
			</div>
			<div>
				<label for="mqttclientid">MQTT Client Id</label>					
				<input id="mqttclientid" type="text" name="mqtt-client-id" placeholder="MQTT Client Id" maxlength="32" value="$MQTTCLIENTID$"> 	
			</div>
			<div>
				<label for="mqtttopichb">MQTT Heartbeat Pub-Topic</label>					
				<input id="mqtttopichb" type="text" name="mqtt-topic-heartbeat" placeholder="MQTT Heartbeat Topic" maxlength="32" value="$MQTTTOPICHEARTBEAT$"> 	
			</div>
			<div>
				<label for="mqtthbtick">MQTT Heartbeat Tick (Seconds)</label>					
				<input id="mqtthbtick" type="number" name="mqtt-heartbeat-tick" placeholder="MQTT Heartbeat Tick" min="1" max="86400" value="$MQTTHEARTBEATTICK$">
			</div>		
			<button type="submit">Save</button>
		</form>
		<hr>
		<a class="nav" href="/restart">Restart</a>
		<a class="nav" href="/reset">Reset</a>
		<a class="nav" href="/debug">Debug</a>
		<script>
			function clickWPS() {
				var items = document.getElementsByClassName('ssid');
				for (var i = 0; i < items.length; i++) {
					items[i].style.display = 'none';
				}
			}
			function clickSSID() {
				var items = document.getElementsByClassName('ssid');
				for (var i = 0; i < items.length; i++) {
					items[i].style.display = 'block';
				}
			}
			if ($IS_WPS$) {
				document.getElementById("wps").checked="checked"
				clickWPS();
			} else {
				document.getElementById("ssid").checked="checked"
				clickSSID();
			}
		</script>
	</body>
</html>
